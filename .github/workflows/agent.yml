# Shim workflow â€” triggers the reusable workflow in this same repo.
# Target repos use an identical shim (see examples/agent.yml).

name: Remote Dev Bot

on:
  issue_comment:
    types: [created]
  pull_request_review_comment:
    types: [created]

permissions:
  contents: write
  issues: write
  pull-requests: write

jobs:
  resolve:
    # Only run if comment starts with /agent and commenter has repo access
    if: >
      (github.event.issue || github.event.pull_request) &&
      startsWith(github.event.comment.body, '/agent') &&
      contains(fromJson('["OWNER","COLLABORATOR","MEMBER"]'), github.event.comment.author_association)
    uses: gnovak/remote-dev-bot/.github/workflows/resolve.yml@main
    secrets: inherit
